@inject DriveForum.Context.Auth Auth
@model List<DriveForum.Models.UserPost>

<html>
    <head>
    <link rel="stylesheet" type="text/css" href="/css/SinglePost.css">
    <link rel="stylesheet" type="text/css" href="/css/Default.css">
    </head>
<body>
    
    @{
        if (Model.Count == 0)
        {
            <h1 style="text-align: center">Постов пока что нет!</h1>
        }
        else
        {
            <div>
            @foreach (var item in Model)
            {
                if (Auth?.User?.Role == DriveForum.Models.Roles.Moderator) @await Html.PartialAsync("OnePost", item)
                else
                {
                    if (item.IsModerated) @await Html.PartialAsync("OnePost", item)
                }
            }
            </div>
        }
    }
    </body>
</html>